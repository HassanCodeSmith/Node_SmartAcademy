import{aR as b,aX as C,o as T,r as l,j as s,S as m,a9 as k,aE as B,aM as I,l as L,B as R,aT as E,aQ as F,aV as U,e as A,T as V,U as W,aU as u,W as q}from"./index-0fbb4f05.js";import{L as z}from"./LoadingButton-cfe44e19.js";const D={resetPassword:""};function G(){const g=b(),r=C(),p=T(),[i,j]=l.useState(D),[d,f]=l.useState({}),w=t=>{const{name:a,value:e}=t.target;j({...i,[a]:e})},P=(t=i)=>{const a={...d};return"resetPassword"in t&&(a.resetPassword=t.resetPassword?"":"This field requires"),f({...a}),Object.values(a).every(e=>e==="")},[c,v]=l.useState(!1),y=async t=>{var a;t.preventDefault(),P()&&await W.reset({...i,email:(a=r==null?void 0:r.state)==null?void 0:a.email}).then(e=>{var n,o;((n=e==null?void 0:e.data)==null?void 0:n.success)===!0&&(u.success((o=e==null?void 0:e.data)==null?void 0:o.message),p("/login"))}).catch(e=>{var n,o,h,x;(o=(n=e==null?void 0:e.response)==null?void 0:n.data)!=null&&o.message?u.error((x=(h=e==null?void 0:e.response)==null?void 0:h.data)==null?void 0:x.message):u.error(e.message)})},S=s.jsxs(s.Fragment,{children:[s.jsx(m,{spacing:3,sx:{my:3},children:s.jsx(k,{name:"resetPassword",error:d.resetPassword,onChange:w,helperText:d.resetPassword,value:i.resetPassword,label:"Password",type:c?"text":"password",InputProps:{endAdornment:s.jsx(B,{position:"end",children:s.jsx(I,{onClick:()=>v(!c),edge:"end",children:s.jsx(L,{icon:c?"eva:eye-fill":"eva:eye-off-fill"})})})}})}),s.jsx(z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",onClick:y,children:"Submit"})]});return s.jsxs(R,{sx:{...E({color:F(g.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[s.jsx(U,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),s.jsx(m,{alignItems:"center",justifyContent:"center",sx:{height:1},children:s.jsxs(A,{sx:{p:5,width:1,maxWidth:420},children:[s.jsx(V,{variant:"h4",children:"Reset Password"}),s.jsx("br",{}),S]})})]})}function O(){return s.jsxs(s.Fragment,{children:[s.jsx(q,{children:s.jsx("title",{children:"Reset Password | Smart Academy "})}),s.jsx(G,{})]})}export{O as default};
