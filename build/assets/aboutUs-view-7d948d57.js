import{j as e,ax as u,ay as d,az as W,T as p,P as l,r as a,I as w,B as S,aK as q,ad as y,l as g,aA as M,aB as _,aC as $,aD as z,aE as G,d as J,o as K,c as Q,Q as V,C as X,S as Y,b as T,e as Z,aF as D,aG as ee,w as se,aH as ne,aI as ie,aJ as re}from"./index-0fbb4f05.js";const te={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function oe(n,i,s){return n?Math.max(0,(1+n)*i-s):0}function I({query:n}){return e.jsx(u,{children:e.jsx(d,{align:"center",colSpan:6,sx:{py:3},children:e.jsxs(W,{sx:{textAlign:"center"},children:[e.jsx(p,{variant:"h6",paragraph:!0,children:"Not found"}),e.jsxs(p,{variant:"body2",children:["No results found for Â ",e.jsxs("strong",{children:['"',n,'"']}),".",e.jsx("br",{})," Try checking for typos or using complete words."]})]})})})}I.propTypes={query:l.string};function P({data:n}){var x;console.log(n);const[i,s]=a.useState(null),h=()=>{s(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(u,{hover:!0,children:[e.jsxs(d,{children:[e.jsx(p,{sx:{maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis"},children:n==null?void 0:n.title})," "]}),e.jsxs(d,{children:[" ",e.jsx(p,{sx:{maxWidth:"150px",maxHeight:"100px",overflow:"hidden",textOverflow:"ellipsis"},children:n==null?void 0:n.description})," "]}),e.jsx(d,{children:(x=n==null?void 0:n.aboutList)==null?void 0:x.map((r,c)=>e.jsxs(p,{sx:{maxWidth:"100px",maxHeight:"30px",overflow:"hidden",textOverflow:"ellipsis"},children:[r,c!==n.aboutList.length-1&&e.jsx("br",{})," "]},c))}),e.jsx(d,{align:"center",children:e.jsx("img",{style:{width:"150px",height:"150px",borderRadius:"12px"},src:`${w}/${n==null?void 0:n.aboutImage}`,alt:"hero"})}),e.jsx(d,{align:"center",children:e.jsx(S,{sx:{background:"#888",padding:"1rem",borderRadius:"12px"},children:e.jsx("img",{style:{width:"80px",height:"80px",borderRadius:"12px"},src:`${w}/${n==null?void 0:n.aboutIcon}`,alt:"hero"})})})]}),e.jsxs(q,{open:!!i,anchorEl:i,onClose:h,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:140}},children:[e.jsxs(y,{onClick:h,children:[e.jsx(g,{icon:"eva:edit-fill",sx:{mr:2}}),"Edit"]}),e.jsxs(y,{onClick:h,sx:{color:"error.main"},children:[e.jsx(g,{icon:"eva:trash-2-outline",sx:{mr:2}}),"Delete"]})]})]})}P.propTypes={data:l.any};function A({order:n,orderBy:i,headLabel:s,onRequestSort:h}){const x=r=>c=>{h(c,r)};return e.jsx(M,{children:e.jsx(u,{children:s.map(r=>e.jsx(d,{align:r.align||"left",sortDirection:i===r.id?n:!1,sx:{width:r.width,minWidth:r.minWidth},children:e.jsxs(_,{hideSortIcon:!0,active:i===r.id,direction:i===r.id?n:"asc",onClick:x(r.id),children:[r.label,i===r.id?e.jsx(S,{sx:{...te},children:n==="desc"?"sorted descending":"sorted ascending"}):null]})},r.id))})})}A.propTypes={order:l.oneOf(["asc","desc"]),orderBy:l.string,headLabel:l.array,onRequestSort:l.func};function R({emptyRows:n,height:i}){return n?e.jsx(u,{sx:{...i&&{height:i*n}},children:e.jsx(d,{colSpan:9})}):null}R.propTypes={emptyRows:l.number,height:l.number};function L({filterName:n,onFilterName:i}){return e.jsx($,{sx:{height:96,display:"flex",justifyContent:"space-between",p:s=>s.spacing(0,1,0,3)},children:e.jsx(z,{value:n,onChange:i,placeholder:"Search ...",startAdornment:e.jsx(G,{position:"start",children:e.jsx(g,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})})})}L.propTypes={filterName:l.string,onFilterName:l.func};function ce(){const n=J(),i=K(),s=Q(t=>{var o,m;return(m=(o=t==null?void 0:t.about)==null?void 0:o.data)==null?void 0:m.data}),[h,x]=a.useState(!0);console.log(s),a.useEffect(()=>{n(V()).then(t=>{var o;console.log(t),(o=t.payload)!=null&&o.success&&x(!1)}).catch(t=>{console.log(t)})},[n]);const[r,c]=a.useState(0),[f,C]=a.useState("asc"),[b,O]=a.useState("name"),[j,E]=a.useState(""),[v,N]=a.useState(5),U=(t,o)=>{o!==""&&(C(b===o&&f==="asc"?"desc":"asc"),O(o))},k=(t,o)=>{c(o)},B=t=>{c(0),N(parseInt(t.target.value,10))},F=t=>{c(0),E(t.target.value)},H=!s&&!!j;return e.jsxs(X,{children:[e.jsxs(Y,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[e.jsx(p,{variant:"h4",children:"About Us"}),s!=null&&s._id?e.jsx(T,{variant:"contained",color:"inherit",startIcon:e.jsx(g,{icon:"eva:edit-fill"}),onClick:()=>i("/dashboard/about-us/edit"),children:"Edit About Us"}):e.jsx(T,{onClick:()=>i("/dashboard/about-us/add"),variant:"contained",color:"inherit",startIcon:e.jsx(g,{icon:"eva:plus-fill"}),children:"Add About Us"})]}),e.jsxs(Z,{children:[e.jsx(L,{filterName:j,onFilterName:F}),e.jsx(D,{children:e.jsx(ee,{sx:{overflow:"unset"},children:h?e.jsx(se,{}):e.jsxs(ne,{sx:{minWidth:800},children:[e.jsx(A,{order:f,orderBy:b,onRequestSort:U,headLabel:[{id:"title",label:"Title"},{id:"description",label:"Description"},{id:"aboutList",label:"About List"},{id:"aboutImg",label:"Image",align:"center"},{id:"icon",label:"Icon",align:"center"},{id:""}]}),e.jsxs(ie,{children:[s!=null&&s._id?e.jsx(P,{data:{title:s==null?void 0:s.title,description:s==null?void 0:s.description,aboutList:s==null?void 0:s.aboutList,aboutImage:s==null?void 0:s.aboutImage,aboutIcon:s==null?void 0:s.aboutIcon}},s==null?void 0:s._id):e.jsx(R,{height:77,emptyRows:oe(r,v,s==null?void 0:s.length)}),H&&e.jsx(I,{query:j})]})]})})}),e.jsx(re,{page:r,component:"div",count:s!=null&&s.length?s==null?void 0:s.length:0,rowsPerPage:v,onPageChange:k,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:B})]})]})}export{ce as default};
