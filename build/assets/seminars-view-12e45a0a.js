import{j as e,ax as m,ay as u,az as G,T as y,P as d,aA as w,aB as J,B as K,r as x,I as Q,b as A,l as b,aM as V,aK as X,ad as I,au as Y,aH as E,aI as L,aC as Z,aD as ee,aE as ne,d as se,o as te,c as ae,a1 as O,C as ie,S as oe,e as re,aF as le,aG as ce,w as de,aJ as he,aN as xe,aO as pe}from"./index-0fbb4f05.js";function D({query:n}){return e.jsx(m,{children:e.jsx(u,{align:"center",colSpan:6,sx:{py:3},children:e.jsxs(G,{sx:{textAlign:"center"},children:[e.jsx(y,{variant:"h6",paragraph:!0,children:"Not found"}),e.jsxs(y,{variant:"body2",children:["No results found for Â ",e.jsxs("strong",{children:['"',n,'"']}),".",e.jsx("br",{})," Try checking for typos or using complete words."]})]})})})}D.propTypes={query:d.string};const ue={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function ge(n,i,o){return n?Math.max(0,(1+n)*i-o):0}function R(n,i,o){return n[o]===null?1:i[o]===null||i[o]<n[o]?-1:i[o]>n[o]?1:0}function je(n,i){return n==="desc"?(o,r)=>R(o,r,i):(o,r)=>-R(o,r,i)}function fe({inputData:n,comparator:i,filterName:o}){const r=n==null?void 0:n.map((a,t)=>[a,t]);return r==null||r.sort((a,t)=>{const h=i(a[0],t[0]);return h!==0?h:a[1]-t[1]}),n=r.map(a=>a[0]),o&&(n=n.filter(a=>{var t;return((t=a==null?void 0:a.phoneNo)==null?void 0:t.toLowerCase().indexOf(o.toLowerCase()))!==-1})),n}function C({order:n,orderBy:i,headLabel:o,onRequestSort:r}){const a=t=>h=>{r(h,t)};return e.jsx(w,{children:e.jsx(m,{children:o.map(t=>e.jsx(u,{align:t.align||"left",sortDirection:i===t.id?n:!1,sx:{width:t.width,minWidth:t.minWidth},children:e.jsxs(J,{hideSortIcon:!0,active:i===t.id,direction:i===t.id?n:"asc",onClick:a(t.id),children:[t.label,i===t.id?e.jsx(K,{sx:{...ue},children:n==="desc"?"sorted descending":"sorted ascending"}):null]})},t.id))})})}C.propTypes={order:d.oneOf(["asc","desc"]),orderBy:d.string,headLabel:d.array,onRequestSort:d.func};function k({data:n,onEdit:i,onDelete:o}){console.log(n);const[r,a]=x.useState(null),[t,h]=x.useState(!1),[p,v]=x.useState([]);console.log(p);const f=l=>{v(l),h(!t)},T=l=>{a(l.currentTarget)},g=()=>{a(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(m,{hover:!0,children:[e.jsx(u,{align:"center",children:e.jsx("img",{style:{width:"300px",height:"150px",borderRadius:"12px"},src:`${Q}/${n==null?void 0:n.image}`,alt:"hero"})}),e.jsx(u,{children:n==null?void 0:n.phoneNo}),e.jsx(u,{children:e.jsx(A,{onClick:()=>{f(n==null?void 0:n.description)},children:e.jsx(b,{icon:"solar:eye-bold-duotone"})})}),e.jsx(u,{align:"right",children:e.jsx(V,{onClick:T,children:e.jsx(b,{icon:"eva:more-vertical-fill"})})})]}),e.jsxs(X,{open:!!r,anchorEl:r,onClose:g,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:140}},children:[e.jsxs(I,{onClick:()=>{i(),g()},children:[e.jsx(b,{icon:"eva:edit-fill",sx:{mr:2}}),"Edit"]}),e.jsxs(I,{onClick:()=>{o(),g()},sx:{color:"error.main"},children:[e.jsx(b,{icon:"eva:trash-2-outline",sx:{mr:2}}),"Delete"]})]}),e.jsx(Y,{open:t,onClose:f,children:e.jsxs(E,{children:[e.jsx(C,{headLabel:[{id:"date",label:"Date"},{id:"details",label:"Details"},{id:""}]}),e.jsx(L,{children:Array.isArray(p)?p==null?void 0:p.map((l,j)=>e.jsxs(m,{children:[e.jsx(u,{children:e.jsx(y,{children:l!=null&&l.date?new Date(l==null?void 0:l.date).toLocaleDateString():""})}),e.jsx(u,{children:e.jsx(y,{children:l==null?void 0:l.details})})]},j)):""})]})})]})}k.propTypes={data:d.any,onEdit:d.any,onDelete:d.any};function F({emptyRows:n,height:i}){return n?e.jsx(m,{sx:{...i&&{height:i*n}},children:e.jsx(u,{colSpan:9})}):null}F.propTypes={emptyRows:d.number,height:d.number};function M({filterName:n,onFilterName:i}){return e.jsx(Z,{sx:{height:96,display:"flex",justifyContent:"space-between",p:o=>o.spacing(0,1,0,3)},children:e.jsx(ee,{value:n,onChange:i,placeholder:"Search ...",startAdornment:e.jsx(ne,{position:"start",children:e.jsx(b,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})})})}M.propTypes={filterName:d.string,onFilterName:d.func};function me(){var N;const n=se(),i=te(),[o,r]=x.useState(!0),a=ae(s=>{var c,P;return(P=(c=s==null?void 0:s.seminar)==null?void 0:c.data)==null?void 0:P.data});console.log(a),x.useEffect(()=>{n(O()).then(s=>{var c;(c=s==null?void 0:s.payload)!=null&&c.success&&r(!1)})},[n]);const[t,h]=x.useState(0),[p,v]=x.useState("asc"),[f,T]=x.useState("name"),[g,l]=x.useState(""),[j,U]=x.useState(5),q=async s=>{try{await pe.dele(s==null?void 0:s._id).then(()=>{n(O())})}catch(c){console.log(c)}},H=async s=>{xe(()=>q(s))},_=(s,c)=>{c!==""&&(v(f===c&&p==="asc"?"desc":"asc"),T(c))},W=(s,c)=>{h(c)},$=s=>{h(0),U(parseInt(s.target.value,10))},z=s=>{h(0),l(s.target.value)},S=fe({inputData:a||[],comparator:je(p,f),filterName:g}),B=!S.length&&!!g;return e.jsxs(ie,{children:[e.jsxs(oe,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[e.jsx(y,{variant:"h4",children:"Seminars"}),e.jsx(A,{variant:"contained",color:"inherit",onClick:()=>i("/dashboard/seminars/add"),startIcon:e.jsx(b,{icon:"eva:plus-fill"}),children:"Add Seminar"})]}),e.jsxs(re,{children:[e.jsx(M,{filterName:g,onFilterName:z}),e.jsx(le,{children:e.jsx(ce,{sx:{overflow:"unset"},children:o?e.jsx(de,{}):e.jsxs(E,{sx:{minWidth:800},children:[e.jsx(C,{order:p,orderBy:f,onRequestSort:_,headLabel:[{id:"image",label:"Image",align:"center"},{id:"phoneNo",label:"Phone No"},{id:"details",label:"Details"},{id:""}]}),e.jsxs(L,{children:[(N=S==null?void 0:S.slice(t*j,t*j+j))==null?void 0:N.map(s=>e.jsx(k,{data:{phoneNo:s==null?void 0:s.phoneNo,image:s==null?void 0:s.image,description:s==null?void 0:s.description},onDelete:()=>H(s),onEdit:()=>i(`/dashboard/seminars/edit/${s==null?void 0:s._id}`)},s==null?void 0:s._id)),e.jsx(F,{height:77,emptyRows:ge(t,j,a==null?void 0:a.length)}),B&&e.jsx(D,{query:g})]})]})})}),e.jsx(he,{page:t,component:"div",count:a!=null&&a.length?a==null?void 0:a.length:0,rowsPerPage:j,onPageChange:W,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:$})]})]})}export{me as default};
