import{P as o,j as n,ax as j,ay as u,az as O,T as d,aA as U,aB as D,B as H,aC as W,aD as k,aE as z,l as G,d as J,r as x,c as M,b3 as Q,C as _,S as K,e as V,aF as X,aG as Y,w as Z,aH as $,aI as B,aJ as w,W as ee}from"./index-0fbb4f05.js";function y({query:e}){return n.jsx(j,{children:n.jsx(u,{align:"center",colSpan:6,sx:{py:3},children:n.jsxs(O,{sx:{textAlign:"center"},children:[n.jsx(d,{variant:"h6",paragraph:!0,children:"Not found"}),n.jsxs(d,{variant:"body2",children:["No results found for Â ",n.jsxs("strong",{children:['"',e,'"']}),".",n.jsx("br",{})," Try checking for typos or using complete words."]})]})})})}y.propTypes={query:o.string};function T({data:e,onDelete:t,onEdit:r}){var l,c;return n.jsxs(j,{hover:!0,children:[n.jsx(u,{children:e!=null&&e.name?e==null?void 0:e.name:""}),n.jsx(u,{children:e!=null&&e.email?e==null?void 0:e.email:""}),n.jsx(u,{children:e!=null&&e.cnic?e==null?void 0:e.cnic:""}),n.jsx(u,{children:e!=null&&e.degree?e==null?void 0:e.degree:""}),n.jsx(u,{children:e!=null&&e.qualification?e==null?void 0:e.qualification:""}),n.jsx(u,{children:(l=e==null?void 0:e.course)!=null&&l.title?(c=e==null?void 0:e.course)==null?void 0:c.title:""})]})}T.propTypes={data:o.any,onEdit:o.any,onDelete:o.any};const ne={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function se(e,t,r){return e?Math.max(0,(1+e)*t-r):0}function b(e,t,r){return e[r]===null?1:t[r]===null||t[r]<e[r]?-1:t[r]>e[r]?1:0}function ie(e,t){return e==="desc"?(r,l)=>b(r,l,t):(r,l)=>-b(r,l,t)}function te({inputData:e,comparator:t,filterName:r}){const l=e.map((c,i)=>[c,i]);return l.sort((c,i)=>{const h=t(c[0],i[0]);return h!==0?h:c[1]-i[1]}),e=l.map(c=>c[0]),r&&(e=e.filter(c=>{var i;return((i=c==null?void 0:c.title)==null?void 0:i.toLowerCase().indexOf(r.toLowerCase()))!==-1})),e}function S({order:e,orderBy:t,headLabel:r,onRequestSort:l}){const c=i=>h=>{l(h,i)};return n.jsx(U,{children:n.jsx(j,{children:r.map(i=>n.jsx(u,{align:i.align||"left",sortDirection:t===i.id?e:!1,sx:{width:i.width,minWidth:i.minWidth},children:n.jsxs(D,{hideSortIcon:!0,active:t===i.id,direction:t===i.id?e:"asc",onClick:c(i.id),children:[i.label,t===i.id?n.jsx(H,{sx:{...ne},children:e==="desc"?"sorted descending":"sorted ascending"}):null]})},i.id))})})}S.propTypes={order:o.oneOf(["asc","desc"]),orderBy:o.string,headLabel:o.array,onRequestSort:o.func};function P({emptyRows:e,height:t}){return e?n.jsx(j,{sx:{...t&&{height:t*e}},children:n.jsx(u,{colSpan:9})}):null}P.propTypes={emptyRows:o.number,height:o.number};function v({filterName:e,onFilterName:t}){return n.jsx(W,{sx:{height:96,display:"flex",justifyContent:"space-between",p:r=>r.spacing(0,1,0,3)},children:n.jsx(k,{value:e,onChange:t,placeholder:"Search ...",startAdornment:n.jsx(z,{position:"start",children:n.jsx(G,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})})})}v.propTypes={filterName:o.string,onFilterName:o.func};function re(){const e=J(),[t,r]=x.useState(!0),l=M(s=>{var a;return(a=s==null?void 0:s.enrollments)==null?void 0:a.data}),[c,i]=x.useState(0),[h,C]=x.useState("asc"),[m,R]=x.useState("name"),[g,E]=x.useState(""),[p,N]=x.useState(5);x.useEffect(()=>{e(Q()).then(s=>{var a;(a=s==null?void 0:s.payload)!=null&&a.length&&r(!1)})},[e]);const q=(s,a)=>{a!==""&&(C(m===a&&h==="asc"?"desc":"asc"),R(a))},I=(s,a)=>{i(a)},A=s=>{i(0),N(parseInt(s.target.value,10))},L=s=>{i(0),E(s.target.value)},f=te({inputData:l||[],comparator:ie(h,m),filterName:g}),F=!(f!=null&&f.length)&&!!g;return n.jsxs(_,{children:[n.jsx(K,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:n.jsx(d,{variant:"h4",children:"Enrollments"})}),n.jsxs(V,{children:[n.jsx(v,{filterName:g,onFilterName:L}),n.jsx(X,{children:n.jsx(Y,{sx:{overflow:"unset"},children:t?n.jsx(Z,{}):n.jsxs($,{sx:{minWidth:800},children:[n.jsx(S,{order:h,orderBy:m,onRequestSort:q,headLabel:[{id:"name",label:"Name"},{id:"email",label:"Email"},{id:"cnic",label:"CNIC"},{id:"degree",label:"Degree"},{id:"qualification",label:"Qualification"},{id:"course",label:"course"},{id:""}]}),n.jsxs(B,{children:[f.slice(c*p,c*p+p).map(s=>n.jsx(T,{data:{name:s==null?void 0:s.name,email:s==null?void 0:s.email,cnic:s==null?void 0:s.cnic,degree:s==null?void 0:s.degree,qualification:s==null?void 0:s.qualification,course:s==null?void 0:s.course}},s==null?void 0:s._id)),n.jsx(P,{height:77,emptyRows:se(c,p)}),F&&n.jsx(y,{query:g})]})]})})}),n.jsx(w,{page:c,component:"div",count:l!=null&&l.length?l==null?void 0:l.length:0,rowsPerPage:p,onPageChange:I,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:A})]})]})}const oe=()=>n.jsxs("div",{children:[n.jsx(ee,{children:n.jsx("title",{children:"User Enrollments | Smart Academy"})}),n.jsx(re,{})]});export{oe as default};
